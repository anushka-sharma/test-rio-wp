!function(n){"use strict";if("undefined"!=typeof WPGlobusPlusPublishTab){var s={selectSelector:"#wpglobus-plus-publish-languages",selectID:"wpglobus-plus-publish-languages",bulkStartButtonSelector:".wpglobus-plus-publish-bulk-start",languageIDs:[],selectedLanguageIDs:[],init:function(){"bulk-actions"==WPGlobusPlusPublishTab.data.section&&s.bulkActions()},bulkActions:function(){n(s.selectSelector).select2({placeholder:"Select language(s)",width:"600px",maximumSelectionLength:-1,escapeMarkup:function(e){return e}}),setTimeout(function(){var e=document.getElementById(s.selectID).options;s.languageIDs=n.map(e,function(e){return e.value})},500),s.addListeners()},getLanguageIDs:function(){return s.languageIDs},getSelectedLanguageIDs:function(){return s.selectedLanguageIDs},addListeners:function(){n(document).on("click",".wpglobus-plus-publish-languages-add-all",function(e){n(s.selectSelector).val(s.languageIDs).trigger("select").trigger("change")}),n(document).on("click",".wpglobus-plus-publish-languages-delete-all",function(e){n(s.selectSelector).val([]).trigger("change")}),n(s.selectSelector).on("change",function(e){if(void 0===e.val){var l=n(s.selectSelector+" option:selected");s.selectedLanguageIDs=n.map(l,function(e){return e.value})}else s.selectedLanguageIDs=e.val;0==s.selectedLanguageIDs.length?n(s.bulkStartButtonSelector).addClass("hidden"):n(s.bulkStartButtonSelector).removeClass("hidden")}),n('form[name="wpglobus-publish-form"]').submit(function(e){n(s.bulkStartButtonSelector).addClass("hidden");var l=n(this).find('input[name="post-id"]').val(),t=s.getSelectedLanguageIDs(),u=n('form[name="wpglobus-publish-form"] input[name="action-link"]').val();return u=(u=u.replace("{{post_id}}",l)).replace("{{language}}",t),location=u,!1})}};WPGlobusPlusPublishTab=n.extend({},WPGlobusPlusPublishTab,s),WPGlobusPlusPublishTab.init()}}(jQuery);