jQuery(document).ready(function(l){"use strict";if("undefined"!=typeof WPGlobusCoreData&&"undefined"!=typeof WPGlobusPlusMenuSettings){var s={locationTitle:"(<b>{{locat}}</b>)",menuID:"#wpglobus_plus_menu_id_",defaultMenuID:"",locationID:"#wpglobus_plus_menu_location",init:function(){"nav-menus.php"==WPGlobusPlusMenuSettings.pagenow?s.addTab():(s.defaultMenuID=s.menuID+WPGlobusCoreData.default_language,this.setLocation(),this.addListeners())},addTab:function(){var n='<a href="'+WPGlobusPlusMenuSettings.redirect+'" class="nav-tab">WPGlobus Menu Settings</a>';l(n).insertAfter(".nav-tab-wrapper a:last")},setLocation:function(){if(0!=WPGlobusPlusMenuSettings.options.length){var n=WPGlobusPlusMenuSettings.options[WPGlobusPlusMenuSettings.currentMenuLocation],t=WPGlobusPlusMenuSettings.currentMenuLocation;l.each(n,function(n,e){l("."+t+"-"+n).css({"background-color":"#e1e1e1"}).html(""),l("#"+t+"-"+n+"-"+e).css({"background-color":"#0f0"}).html(s.locationTitle.replace("{{locat}}",WPGlobusPlusMenuSettings.locations[t]))})}},selectLocation:function(n){void 0!==n&&(window.location=WPGlobusPlusMenuSettings.redirect+"&location="+n)},addListeners:function(){l("#wpglobus_menu_settings_save").on("click",function(n){var t={action:"save"};t.location=l(s.locationID).val(),t.menuID={},l.each(WPGlobusCoreData.enabled_languages,function(n,e){t.menuID[e]=l(s.menuID+e).val()}),s.ajax(t)}),l(".cell-selector-enabled").on("click",function(n){var e=l(this),t=e.data("current-menu-location"),o=e.data("language"),u=e.data("menu-id"),a="."+t+"-"+e.data("language");l(a).css({"background-color":"#e1e1e1"}).html(""),e.css({"background-color":"#0f0"}).html(s.locationTitle.replace("{{locat}}",WPGlobusPlusMenuSettings.locations[t])),u==l(s.defaultMenuID).val()?l(s.menuID+o).val(""):l(s.menuID+o).val(u)})},ajax:function(n,e){return l.ajax({beforeSend:function(){void 0!==e&&e()},type:"POST",url:ajaxurl,data:{action:WPGlobusPlusMenuSettings.process_ajax,order:n},dataType:"json"})}};WPGlobusPlusMenuSettings=l.extend({},WPGlobusPlusMenuSettings,s),WPGlobusPlusMenuSettings.init()}});