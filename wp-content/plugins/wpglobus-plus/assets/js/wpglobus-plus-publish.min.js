!function(l){"use strict";var n={option:{},statusBoxDelta:0,init:function(s){n.option=l.extend(n.option,s),this.postStatus()},postStatus:function(){var e=[];l.each(WPGlobusPlusPublish.data.statuses,function(s,t){e[s]="wpglobus-status-"+t}),e=e.join(" "),l(".wpglobus-pub-language").each(function(s,t){var u=l(this).data("language"),a=l(this).data("status");l("#wpglobus-pub-"+u+" .wpglobus-status-"+a).addClass("wpglobus-pub-current-status")}),l(document).on("mouseenter mouseleave",".wpglobus-pub-language",function(s){var t=l(this).data("language");"mouseenter"==s.type?(l(".wpglobus-pub-status").addClass("hidden"),l("#wpglobus-pub-"+t).removeClass("hidden"),n.statusBoxDelta=s.screenY):"mouseleave"==s.type&&0!=n.statusBoxDelta&&s.screenY-n.statusBoxDelta<0&&l(".wpglobus-pub-status").addClass("hidden")}),l(document).on("mouseleave",".wpglobus-pub-status",function(s){l(".wpglobus-pub-status").addClass("hidden")}),l(document).on("click",".wpglobus-pub-status li",function(s){var t=l(this),u=t.find(".wpglobus-spinner"),a=t.data("language");if(!t.hasClass("wpglobus-pub-current-status")){var o={action:"set_status"};o.post_id=WPGlobusPlusPublish.data.post_id,o.language=a,o.status=t.data("status"),n.ajax(o,function(){u.css("visibility","visible")}).done(function(s){"ok"==s.result&&(l("#wpglobus-pub-"+a+" li").removeClass("wpglobus-pub-current-status"),t.addClass("wpglobus-pub-current-status"),l(".wpglobus-pub-selector-"+a).removeClass(e).addClass("wpglobus-status-"+t.data("status")),l(".wpglobus-pub-selector-"+a).data("status",s.status))}).fail(function(s){}).always(function(s,t){u.css("visibility","hidden")})}})},attachListener:function(){},ajax:function(s,t){return l.ajax({beforeSend:function(){void 0!==t&&t()},type:"POST",url:ajaxurl,data:{action:WPGlobusPlusPublish.data.process_ajax,order:s},dataType:"json"})}};WPGlobusPlusPublish=l.extend({},WPGlobusPlusPublish,n),WPGlobusPlusPublish.init()}(jQuery);