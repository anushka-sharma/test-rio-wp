jQuery(document).ready(function(u){"use strict";u.fn.shake=function(e,o,t){return this.each(function(){u(this).css("position","relative");for(var s=1;s<=e;s++)u(this).animate({top:-1*o},t/e/4).animate({top:o},t/e/2).animate({top:0},t/e/4)}),this};var i={promise:u.when(),linkLanguage:{mask:"",value:""},linkPostType:{mask:"",value:""},init:function(){this.addMainMenuItem(),this.modulePublish(),this.addListeners(),this.setModules(),this.setSections()},addMainMenuItem:function(){setTimeout(function(){var s=u("#toplevel_page_wpglobus_options .wp-submenu");0==s.length&&(s=u("#toplevel_page_wpglobus-options .wp-submenu")),s.append('<li><a href="'+WPGlobusPlus.option_page+'">'+WPGlobusPlus.caption_menu_item+"</a></li>")},200)},setSections:function(){"undefined"!=typeof WPGlobusPlusSections&&setTimeout(function(){u(WPGlobusPlusSections.html).appendTo(u(".wpglobus-plus-sections")),u(".wpglobus-plus-sections").css({display:"block"}),u(".wpglobus-plus-section").addClass("tab-"+WPGlobusPlus.tab).addClass(WPGlobusPlusSections.section).addClass("section-"+WPGlobusPlusSections.section)},500)},modulePublish:function(){"publish"==WPGlobusPlus.tab&&(u(".wpglobus-select").on("change",function(s){var e=u(this),o=e.attr("id"),t=e.data("mask"),n=e.val(),l="";"language"==o?(i.linkLanguage.mask=t,i.linkLanguage.value=n):"post_type"==o&&(i.linkPostType.mask=t,i.linkPostType.value=n),l=(l=WPGlobusPlus.publish_action_links["single-action"].replace(i.linkLanguage.mask,i.linkLanguage.value)).replace(i.linkPostType.mask,i.linkPostType.value),u(".wpglobus-plus-publish-single-action_link").attr("href",l).text(l)}),u(".about-wrap .feature-section .col").css({"margin-top":0}))},addListeners:function(){u(document).on("click",".wpglobus-plus-module",function(s){var o,t=u(this);o=t.parents(".module-block").find(".wpglobus-plus-spinner"),t.css({display:"none"}),o.css({display:"block"}),i.promise=i.promise.then(function(){return i.ajax({action:"activate-module",module:t.data("module"),active_status:t.prop("checked")||"",moduleData:WPGlobusPlus.modules[t.data("module")]},function(){}).done(function(s){i.done(s)}).fail(function(s){}).always(function(s,e){o.css({display:"none"}),t.css({display:"inline-block"})})})})},ajax:function(s,e){return u.ajax({beforeSend:function(){void 0!==e&&e()},type:"POST",url:ajaxurl,data:{action:WPGlobusPlus.process_ajax,order:s},dataType:"json"})},setModules:function(s,o){var t={};void 0===s?u(".wpglobus-plus-module").each(function(s,e){t[s]=u(e).data("module")}):t[0]=s,u.each(t,function(s,e){void 0===o?u("#wpglobus-plus-"+e).prop("checked")?u(".subtitle-module-"+e).css({display:"block"}):u(".subtitle-module-"+e).css({display:"none"}):"true"==o.order.active_status?u(".subtitle-module-"+e).css({display:"block"}):u(".subtitle-module-"+e).css({display:"none"})})},done:function(s){"string"==typeof s.order.module&&i.setModules(s.order.module,s)}};WPGlobusPlus=u.extend({},WPGlobusPlus,i),WPGlobusPlus.init()});